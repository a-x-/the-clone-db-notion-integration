# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Notion Integration

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ [Notion Developers](https://www.notion.so/my-integrations)
2. –ù–∞–∂–º–∏ **"+ New integration"**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name**: `Database Cloner`
   - **Logo**: –∑–∞–≥—Ä—É–∑–∏ –∏–ª–∏ –æ—Å—Ç–∞–≤—å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ
   - **Associated workspace**: –≤—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—ã–π workspace
4. –ù–∞–∂–º–∏ **"Submit"**
5. **–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `secret_`) - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–∑–∂–µ

## –®–∞–≥ 2: –î–∞—Ç—å –¥–æ—Å—Ç—É–ø –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º

1. –û—Ç–∫—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ Notion, –≥–¥–µ –±—É–¥–µ—à—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–ø–∏–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
2. –ù–∞–∂–º–∏ –Ω–∞ **"‚Ä¢‚Ä¢‚Ä¢ "** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í—ã–±–µ—Ä–∏ **"+ Add connections"**
4. –ù–∞–π–¥–∏ –∏ –≤—ã–±–µ—Ä–∏ —Å–≤–æ—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é **"Database Cloner"**
5. –ù–∞–∂–º–∏ **"Confirm"**

–ü–æ–≤—Ç–æ—Ä–∏ —ç—Ç–æ –¥–ª—è –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—á–µ—à—å –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å.

## –®–∞–≥ 3: –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ GitHub (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ó–∞–≥—Ä—É–∑–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞ GitHub:

   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin https://github.com/—Ç–≤–æ–π-username/notion-integration.git
   git push -u origin main
   ```

2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ [vercel.com](https://vercel.com)
3. –ù–∞–∂–º–∏ **"New Project"**
4. –í—ã–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–∑ GitHub
5. Framework Preset: **"Other"**
6. –ù–∞–∂–º–∏ **"Deploy"**

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Vercel CLI

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Vercel CLI:

   ```bash
   npm i -g vercel
   ```

2. –í–æ–π–¥–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç:

   ```bash
   vercel login
   ```

3. –î–µ–ø–ª–æ–π:

   ```bash
   vercel
   ```

4. –û—Ç–≤–µ—á–∞–π –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:
   - Set up and deploy? **Y**
   - Which scope? **—Ç–≤–æ–π-username**
   - Link to existing project? **N**
   - What's your project's name? **notion-cloner**
   - In which directory is your code located? **./**

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –í Vercel Dashboard –Ω–∞–π–¥–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **Settings ‚Üí Environment Variables**
3. –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name**: `NOTION_TOKEN`
   - **Value**: —Ç–≤–æ–π —Ç–æ–∫–µ–Ω –∏–∑ Notion (secret_...)
   - **Environments**: All (Production, Preview, Development)
4. –ù–∞–∂–º–∏ **"Save"**

## –®–∞–≥ 5: Redeply (–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫)

1. –í Vercel Dashboard –ø–µ—Ä–µ–π–¥–∏ –≤ **Deployments**
2. –ù–∞–π–¥–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
3. –ù–∞–∂–º–∏ **"‚Ä¢‚Ä¢‚Ä¢ " ‚Üí "Redeploy"**
4. –í—ã–±–µ—Ä–∏ **"Use existing Build Cache"**
5. –ù–∞–∂–º–∏ **"Redeploy"**

## –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ü–µ—Ä–µ–π–¥–∏ –ø–æ URL —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (—á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `https://notion-cloner-xxx.vercel.app`)
2. –£–≤–∏–¥–∏—à—å –∫—Ä–∞—Å–∏–≤—É—é HTML —Ñ–æ—Ä–º—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Source Database ID**: ID –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
   - **Parent Page ID**: ID —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫—É–¥–∞ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–æ–ø–∏—é
4. –ù–∞–∂–º–∏ **"Clone Database"**

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ID

1. –û—Ç–∫—Ä–æ–π –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ Notion
2. –°–∫–æ–ø–∏—Ä—É–π URL: `https://notion.so/workspace/DATABASE_ID?...`
3. ID —ç—Ç–æ 32 —Å–∏–º–≤–æ–ª–∞ –º–µ–∂–¥—É —Å–ª–µ—à–∞–º–∏ (–º–æ–∂–Ω–æ —Å –¥–µ—Ñ–∏—Å–∞–º–∏ –∏–ª–∏ –±–µ–∑)

**–ü—Ä–∏–º–µ—Ä URL:**

```
https://www.notion.so/myworkspace/a1b2c3d4e5f67890abcdef1234567890?v=...
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                   –≠—Ç–æ –∏ –µ—Å—Ç—å DATABASE_ID
```

## üéØ –ì–æ—Ç–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: `https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.vercel.app/`
- **API –¥–ª—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**: `https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.vercel.app/api/duplicate`
- **Health check**: `https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.vercel.app/api/health`

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Vercel:**
   - Vercel Dashboard ‚Üí —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç ‚Üí Functions
   - –ù–∞–π–¥–∏ `/api/duplicate` –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏

2. **–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**
   - `unauthorized`: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ/—Å—Ç—Ä–∞–Ω–∏—Ü–µ
   - `object_not_found`: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –∏–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
   - `Invalid ID format`: ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 32 —Å–∏–º–≤–æ–ª–∞ (—Å –¥–µ—Ñ–∏—Å–∞–º–∏ –∏–ª–∏ –±–µ–∑)

3. **–ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

   ```bash
   curl https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.vercel.app/api/health
   ```

   –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å `"hasToken": true`

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- **Vercel Free Tier:**
  - 100GB bandwidth –≤ –º–µ—Å—è—Ü
  - 1,000,000 function invocations
  - 100GB-hours compute time
  
–î–ª—è —Ç–≤–æ–µ–≥–æ —Å–ª—É—á–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ**!

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

1. **–û–≥—Ä–∞–Ω–∏—á—å –¥–æ–º–µ–Ω—ã** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

   ```json
   // vercel.json
   {
     "headers": [
       {
         "source": "/api/(.*)",
         "headers": [
           {
             "key": "Access-Control-Allow-Origin",
             "value": "https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com"
           }
         ]
       }
     ]
   }
   ```

2. **–î–æ–±–∞–≤—å rate limiting** (–¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫):

   ```javascript
   // –í api/duplicate.js
   const rateLimit = new Map();
   
   if (rateLimit.get(req.headers['x-forwarded-for']) > 10) {
     return res.status(429).json({ error: 'Too many requests' });
   }
   ```

3. **Monitoring**: –≤–∫–ª—é—á–∏ Vercel Analytics –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## ‚úÖ Checklist –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

- [ ] Notion Integration —Å–æ–∑–¥–∞–Ω–∞
- [ ] –¢–æ–∫–µ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] –î–æ—Å—Ç—É–ø –≤—ã–¥–∞–Ω –Ω—É–∂–Ω—ã–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º/–±–∞–∑–∞–º
- [ ] –ü—Ä–æ–µ–∫—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Vercel
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è NOTION_TOKEN –¥–æ–±–∞–≤–ª–µ–Ω–∞
- [ ] Health check –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"status": "healthy", "hasToken": true}`
- [ ] –¢–µ—Å—Ç–æ–≤–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ
- [ ] –ò–∑—É—á–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ README.md

üéâ **–ì–æ—Ç–æ–≤–æ! –¢–≤–æ—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!**
